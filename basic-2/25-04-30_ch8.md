## 📖 네트워크의 패턴

📝 학습 내용    
### 1️⃣ 가정 네트워크의 패턴
- 실내 네트워크: 유선 & 무선 랜의 조합으로 이루어짐
  - 무선 랜: 장애물에 강한 2.4GHz & 빠른 5GHz 대역  
  SSID: 무선 랜 액세스 포인트 식별자  
  암호화 방식: WEP, WPA - 취약성 존재, WPA2 이용 권장
- 인터넷과의 연결: ADSL, 광 회선 등

### 2️⃣ 회사 네트워크의 패턴
- VLAN: 물리적 연결과 독립된 가상의 랜 통신망
  - 브로드캐스트 도메인 분할: 브로드캐스트는 랜 전체에 통신을 보내므로 연결된 네트워크 기기가 많으면 네트워크에 부하를 야기할 수 있음(ex. ARP 호출 등) ➡️ 통신량 절감을 위해 도메인 분할  
  - 태그 기반 VLAN: 태그(ex. VLAN10, VLAN20 ...) 지정을 통해 여러 스위치에 설정 가능, 랜 케이블을 통해 스위치-스위치 간 통신
  - 포트 기반 VLAN: 각 스위치 포트에 대해 구성된 VLAN, 하나의 스위치에서도 독립된 랜처럼 기능
- 거점 간 네트워크: 액세스 회선(각 지점과 망 연결), 망(액세스 회선 간 통신 중개)
  - 폐역망: 인터넷을 경유하지 않는 닫힌 망
    - 광역 이더넷: 거점 사이를 이더넷(2계층)을 통해 접속, 높은 자유도
    - IP-VPN: WAN 회선을 사용해 3계층으로 접속, 거점의 라우터 설정은 통신 사업자에게 위탁
- 전용선: 지점을 직접 연결 

### 3️⃣ 인터넷 VPN
- 폐역망과 달리 인터넷을 경유하는 VPN
  - 거점 간 VPN, 원격 액세스 VPN
- VPN의 필수 기능: 터널 생성, 암호화, 인증
  - IPsec-VPN: 3가지 기능 모두 IPsec으로 구현
  - SSL-VPN: SSL/TLS를 통해 암호화
  - L2TP: 네트워크 간 가상 터널 구축 기술, 암호화와 인증은 IPsec-VPN을 통해 구현
- 연결 방식: 일대일, 스타형, full mesh, ISDN이나 모바일 네트워크 등을 통한 백업, 원격 액세스 VPN 등
- Zero Trust Network: 엄격한 ID 검증 프로세스 기반, 내부 네트워크의 접근이라도 불신을 기본으로 하여 세션 단위로 접근 허가  
패스워드 / MFA 인증 등이 필수로 요구됨

### 4️⃣ 웹 서비스 네트워크의 패턴
- 클라우드 네트워크는 보통 아웃바운드(클라우드 ➡️ 인터넷)에 대해 요금이 부과되므로 CDN 등을 활용해 트래픽 최적화가 중요함
- 웹 서버-인터넷에 공개 & DB-비공개 네트워크에 존재, 분산 서버 및 로드 밸런서 구성 등

### 5️⃣ 인터넷의 상호 접속 패턴
- 인터넷을 구성하는 조직(ISP 등)이 서로 연결하는 방식
- Peering: 조직끼리 물리적으로 접속하며 라우팅 설정 필요, 비교적 동등한 관계에서 무정산하는 경우가 많음
- Transit: 한 조직이 다른 조직의 인터넷 접속 중계, 서로 다른 등급의 ISP간에 이루어지는 경우가 많음

### 6️⃣ 네트워크 이중화
- Bonding/Teaming: 여러 포트를 하나로 묶어 사용
  - Load Balancing(분산), Link Aggregation(논리적으로 하나의 포트로 변경), Fault Tolerance(예비 포트 구성, 내장애성 증대)
- Multihoming: 다수의 인터넷 회선 계약, BGP 또는 전용 어플라이언스 사용
- Spanning Tree Protocol: L2 스위치에서 루프 생성 방지를 위해 일련의 정보 교환을 통해 필요 외의 경로를 차단
- VRRP: 라우터(L3 스위치) 이중화, 여러 대의 라우터를 논리적으로 하나로 묶은 후 가상 IP를 생성, 라우터의 실제 IP 대신 가상 IP를 통해 통신

---
🔍 실습 / 테스트

```
# macOS 환경에서 무선 랜 정보 조회
sudo wdutil info

# 결과
————————————————————————————————————————————————————————————————————
NETWORK
————————————————————————————————————————————————————————————————————
    Primary IPv4         : en0 (Wi-Fi / E9F2BD0C-B787-4E44-8E9C-397DAE4E041C)
                         : 172.16.36.11
    Primary IPv6         : None
    DNS Addresses        : 168.126.63.1
                         : 8.8.8.8
    Apple                : Reachable
————————————————————————————————————————————————————————————————————
WIFI
————————————————————————————————————————————————————————————————————
    MAC Address          : <redacted> (hw=<redacted>)
    Interface Name       : en0
    Power                : On [On]
    Op Mode              : STA
    SSID                 : <redacted>
    BSSID                : <redacted>
...

```

---
❓ Zero Trust Network의 실제 구현 사례는 무엇이 있을까?

💡 전통적 VPN 사용 없이 어디서나 동일한 업무 환경을 제공하는 Google BeyondCorp  
접근은 네트워크가 아니라 사용자와 디바이스의 환경적 요소에 따라 이루어짐
서비스 접근은 항상 인증, 인가, 암호화 되어야 함

---
📚 참고자료

1. 『한 권으로 끝내는 네트워크 기초』, 오키타 토시야 지음, 길벗, 2022
2. [피어링과 트랜짓이란?](https://2infinity-and-beyond.tistory.com/12#google_vignette)
3. [Google BeyondCorp](https://cloud.google.com/beyondcorp)

---
💫 키워드

네트워크 패턴, 무선 랜, VLAN, VPN, ZTN, 네트워크 이중화